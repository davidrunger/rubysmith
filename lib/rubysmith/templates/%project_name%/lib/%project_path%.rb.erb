<% if configuration.build_zeitwerk %>
  require "zeitwerk"
  <% if configuration.project_levels.positive? %>
    Zeitwerk::Loader.new.then do |loader|
      loader.push_dir "#{__dir__}<%= Array.new(configuration.project_levels, "/..").join %>"
      loader.setup
    end
  <% else %>
    loader = Zeitwerk::Loader.new
    loader.push_dir('lib')
    loader.setup
  <% end %>
<% end %>
<% namespace %>
